# Patch 0.6.18

## Message Edit Log Improvements (module rewrite)

This update rewrites all of the message edit logging code to restore bug-free functionality, new features, better performance, and better user experience.

Deploy date: 9/26/25

## New Functionality

- Rewrite message edit log module
    - Converted the context menu attached to logs from Discord reaction navigation to button navigation, improving speed, reliability, accessibility, and user experience
    - Retuned the "expand before and after" functionality to dynamically change the design of the embed depending on whether the full description is needed to show message content, allowing it to properly show message content longer than 1024 characters now
    - Added "message attachment updates" to the module's standard functionality
    - Added "message flag updates" to the module's standard functionality (such as crossposting a message, deleting a reference, creating a thread)
    - Add ability to retrieve message attachments and its index file in the log context menu

## Behavioral Changes

- Rewrite message edit log module
    - Changed the "quick parse" algorithm used to highlight just the words that were changed in a message to be faster and more accurate. The ability to expand the full text remains within the context menu attached to the log.

## Bug Fixes

- Rewrite message edit log module
    - Fixed the improper location of the task that would update message index data, which caused it to only fire if logs were enabled
    - Fixed instances where certain edge cases in the message edit log module would cause empty logs stuck saying "finalyzing log..." forever
- Resolved an issue within the date detection code in the birthdays module, preventing it from working
- Resolved a code logic flaw in the message indexes model that was causing all message edit editions to have the timestamp the message was sent instead of when it was edited
- Fixed missing embed suppression handling functionality. If enabled, Disguard will allow you to undo the removal of an embed from a message in the Discord app.

## Dev Notes

- Message edit log module was converted back to the local attachment upload instead of using the image spam channel then fetching its URL, improving image display duration and reliability. This will be modernized in the s3 storage update which will replace local storage for attachments.